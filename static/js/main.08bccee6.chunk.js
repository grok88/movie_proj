(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,a){},146:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),c=a.n(s),o=a(6),i=a(7),l=a(9),u=a(8),p=a(10),m=a(165),d=a(151),h=a(147),g=a(148),v=a(149),f=a(150),E=a(89),b=a(20),y=a(13),_=a.n(y),O=a(18),w=a(11),k=a(29),j=a.n(k),N=j.a.create({headers:{"Content-Type":"application/json;charset=utf-8"}}),P="https://api.themoviedb.org/3",A="74cf872c374464de94ecd087d053d256",S=function(e){return j.a.get(e).then(function(e){return e.data})},C=function(e){return j.a.get(e).then(function(e){return e.data})},T=function(e,t){var a={session_id:t};return j.a.delete(e,{data:a}).then(function(e){return e.data})},M=function(e){return j.a.get(e).then(function(e){return e.data})},R=function(e,t){return j.a.post(e,t).then(function(e){return e.data})},x=function(e,t){return j.a.post(e,t).then(function(e){return e.data})},F=function(e){return j.a.get(e).then(function(e){return e.data})},I=function(e){return j.a.get(e).then(function(e){return e.data})},D=function(e,t){return N.post(e,t).then(function(e){return e.data})},G=function(e,t){return N.post(e,t).then(function(e){return e.data})},L=function(e){return N.get(e).then(function(e){return e.data})},H=function(e){return N.get(e).then(function(e){return e.data})},V=function(e,t){return N.post(e,t).then(function(e){return e.data})},W=function(e){return N.get(e).then(function(e){return e.data})},B=function(e){return N.get(e).then(function(e){return e.data})},U=function(e){return N.get(e).then(function(e){return e.data})},z=function(e){return N.get(e).then(function(e){return e.data})},q=a(40),K=new q.a,Y={user:null,session_id:null,isAuth:!1,disabled:!1,error:null,status:"idle"},J=function(e){return{type:"APP/SET-USER",payload:e}},X=function(e){return{type:"APP/CHANGE-STATUS",payload:e}},$=function(e){return{type:"APP/SET-SESSION-ID",payload:e}},Q=function(e){return{type:"APP/SET-ERROR",payload:e}},Z=function(e){return{type:"APP/CHANGE-ISAUTH",payload:e}},ee=function(e){return{type:"APP/CHANGE-DISABLED",payload:e}},te=function(e,t){return function(){var a=Object(O.a)(_.a.mark(function a(n,r){var s;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(X("loading")),a.prev=1,a.next=4,F(e);case 4:s=a.sent,n(X("succeeded")),n(J(s)),n($(t)),n(Z(!0)),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(1),n(X("failed")),n(Q(a.t0.response.data.status_message)),setTimeout(function(){n(Q(null))},3e3);case 16:case 17:case"end":return a.stop()}},a,null,[[1,11]])}));return function(e,t){return a.apply(this,arguments)}}()},ae=function(e,t){return function(){var a=Object(O.a)(_.a.mark(function a(n,r){var s;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n(ee(!0)),n(X("loading")),s="".concat(P,"/authentication/token/new?api_key=").concat(A),M(s).then(function(a){var r="".concat(P,"/authentication/token/validate_with_login?api_key=").concat(A),s={username:e,password:t,request_token:a.request_token};R(r,s).then(function(){var e="".concat(P,"/authentication/session/new?api_key=").concat(A);x(e,{request_token:a.request_token}).then(function(e){K.set("session_id",e.session_id,{path:"/",maxAge:2592e3}),n($(e.session_id));var t="".concat(P,"/account?api_key=").concat(A,"&session_id=").concat(e.session_id);n(te(t,e.session_id))}).catch(function(e){n(ee(!1)),n(Q(e.response.data.status_message)),setTimeout(function(){n(Q(null))},3e3)})}).catch(function(e){n(ee(!1)),n(Q(e.response.data.status_message)),setTimeout(function(){n(Q(null))},3e3)})}).catch(function(e){n(ee(!1)),n(Q(e.message)),setTimeout(function(){n(Q(null))},3e3)}).finally(function(){n(X("succeeded"))});case 4:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},ne=function(e){var t={};return e.username||(t.username="Required"),e.password||(t.password="Required"),e.repeatPassword?e.password!==e.repeatPassword&&(t.repeatPassword=" Passwords are not equal"):t.repeatPassword="Required",t},re=function(e){var t=e.toggleModal,a=Object(b.c)(),n=Object(b.d)(function(e){return e.app.error}),s=Object(b.d)(function(e){return e.app.disabled}),c=Object(E.a)({initialValues:{username:"",password:"",repeatPassword:""},validate:ne,onSubmit:function(e){a(ae(e.username,e.password)),t&&t()}});return r.a.createElement("div",{className:"form-login-container"},r.a.createElement("h1",{className:"h3 mb-3 text-center"},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement(h.a,{className:"form-login",onSubmit:c.handleSubmit},r.a.createElement(g.a,{className:"form-group"},r.a.createElement(v.a,{for:"username"},"Email"),r.a.createElement(f.a,Object.assign({type:"text",id:"username",placeholder:"username"},c.getFieldProps("username"),{className:"form-control",style:c.touched.username&&c.errors.username?{border:"2px solid red"}:void 0})),c.touched.username&&c.errors.username?r.a.createElement("div",{style:{color:"red"}},c.errors.username):null),r.a.createElement(g.a,{className:"form-group"},r.a.createElement(v.a,{for:"password"},"Password"),r.a.createElement(f.a,Object.assign({type:"password",id:"password",placeholder:"password"},c.getFieldProps("password"),{className:"form-control",style:c.touched.password&&c.errors.password?{border:"2px solid red"}:void 0})),c.touched.password&&c.errors.password?r.a.createElement("div",{style:{color:"red"}},c.errors.password):null),r.a.createElement(g.a,{className:"form-group"},r.a.createElement(v.a,{for:"repeatPassword"},"Repeat Password"),r.a.createElement(f.a,Object.assign({type:"password",id:"repeatPassword",placeholder:"repeatPassword"},c.getFieldProps("repeatPassword"),{className:"form-control",style:c.touched.repeatPassword&&c.errors.repeatPassword?{border:"2px solid red"}:void 0})),c.touched.repeatPassword&&c.errors.repeatPassword?r.a.createElement("div",{style:{color:"red"}},c.errors.repeatPassword):null),r.a.createElement("button",{type:"submit",className:"btn btn-ld btn-primary btn-block",disabled:s},"Submit"),n?r.a.createElement("div",{style:{color:"red"},className:"mt-3 text-center"},n):null))},se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).toggleModal=function(){a.setState(function(e){return{showModal:!e.showModal}})},a.state={showModal:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",type:"button",onClick:this.toggleModal},"Login"),r.a.createElement(m.a,{isOpen:this.state.showModal,toggle:this.toggleModal},r.a.createElement(d.a,null,r.a.createElement(re,null))))}}]),t}(n.PureComponent),ce=a(152),oe=a(164),ie=a(166),le=a(153),ue=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{width:"60",src:"https://image.tmdb.org/t/p/original/".concat(e?e.avatar.tmdb.avatar_path:null,"?s64"),alt:"user_Avatar",className:"rounded-circle"}),r.a.createElement("span",{style:{color:"red"},className:"ml-3"},e?e.username:null))}}]),t}(n.Component),pe=a(21),me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dropdownOpen:!1},a.toggleDropdown=function(){a.setState(function(e){return{dropdownOpen:!e.dropdownOpen}})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.onDeleteSession;return r.a.createElement(ce.a,{isOpen:this.state.dropdownOpen,toggle:this.toggleDropdown},r.a.createElement(oe.a,{tag:"div","data-toggle":"dropdown","aria-expanded":this.state.dropdownOpen},r.a.createElement(ue,{user:t})),r.a.createElement(ie.a,{right:!0},r.a.createElement(le.a,{onClick:a},"Logout"),r.a.createElement(le.a,{onClick:function(){}},r.a.createElement(pe.c,{to:"/favorite",style:{textDecoration:"none",color:"black"}},"Favorite"))))}}]),t}(n.Component),de=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.onDeleteSession;return r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement(pe.c,{to:"/",className:"nav-link"},"Home"))),t?r.a.createElement(me,{user:t,onDeleteSession:a}):r.a.createElement(se,null)))}}]),t}(n.PureComponent),he=r.a.memo(function(e){var t=e.totalPages,a=e.page;return r.a.createElement("div",{className:"ml-1"},r.a.createElement("span",{className:"ml-3",style:{display:"inline-block",paddingTop:"6px"}},"Page ",r.a.createElement("b",null,a)," of ",r.a.createElement("b",null,t)))}),ge=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,a=e.onChangePage,n=e.totalPages;return r.a.createElement("div",{className:"btn-group row",role:"group","aria-label":"Basic example"},r.a.createElement("div",{className:""},r.a.createElement("button",{type:"button",className:"btn btn-dark mr-2",onClick:function(){return a(t-1)},disabled:1===t},"\u041d\u0430\u0437\u0430\u0434"),r.a.createElement("button",{type:"button",className:"btn btn-dark",onClick:function(){return a(t+1)},disabled:t>=n},"\u0412\u043f\u0435\u0440\u0435\u0434")),r.a.createElement(he,{page:t,totalPages:n}))}}]),t}(n.Component),ve=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).selectValue=function(e){a.props.changeFilters(e.target.value,e.target.name)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){return this.props.filters.sort_by!==e.filters.sort_by}},{key:"render",value:function(){var e=this.props.filters;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"sort_by"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),r.a.createElement("select",{className:"form-control",id:"sort_by",name:"sort_by",onChange:this.selectValue,value:e.sort_by},t.defaultProps.options.map(function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.label)})))}}]),t}(n.Component);ve.defaultProps={options:[{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",value:"popularity.desc"},{label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043f\u043e \u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u044e",value:"popularity.asc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e",value:"vote_average.desc"},{label:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e \u0432\u043e\u0437\u0440\u043e\u0441\u0442\u0430\u043d\u0438\u044e",value:"vote_average.asc"}]};var fe=ve;var Ee=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).selectValue=function(e){a.props.changeFilters(e.target.value,e.target.name)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.releaseYear;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"primary_release_year"},"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0433\u043e\u0434\u0443 \u0432\u044b\u043f\u0443\u0441\u043a\u0430:"),r.a.createElement("select",{className:"form-control",id:"primary_release_year",name:"primary_release_year",onChange:this.selectValue,value:e},t.defaultProps.options.map(function(e){return r.a.createElement("option",{value:e.value,key:e.value},e.label)})))}}]),t}(n.PureComponent);Ee.defaultProps={options:function(e,t){for(var a=[],n=e;n<=t;n++)a.push({label:String(n),value:String(n)});return a}(1950,2025)};var be=Ee,ye=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.genres,n=t.onChangeChecked;return r.a.createElement("div",{className:"form-group mt-3"},a.map(function(t){return r.a.createElement(_e,{onGenresChange:e.props.onGenresChange,genre:t,key:t.id,onChangeChecked:n})}))}}]),t}(n.PureComponent),_e=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChangeFavorite=function(e,t){a.props.onGenresChange(e.target.name),a.props.onChangeChecked(t,e.target.checked)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.genre;return r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",checked:this.props.genre.checked,id:String(t.id),name:String(t.id),onChange:function(a){return e.onChangeFavorite(a,t.id)}}),r.a.createElement("label",{className:"form-check-label",htmlFor:String(t.id)},t.name))}}]),t}(n.Component),Oe=ye,we={genres:[]},ke=function(){return{type:"GENRES/RESET-CHECKED"}},je=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onChangeChecked=function(e,t){a.props.changeChecked(e,t)},a.onGenresResetHandler=function(){a.props.onGenresReset(),a.props.genresResetChecked()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e="".concat(P,"/genre/movie/list?api_key=").concat(A,"&language=ru-RU");this.props.getGenres(e)}},{key:"render",value:function(){var e=this.props.onGenresChange;return r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-info mt-3 ",style:{width:"100%"},onClick:this.onGenresResetHandler},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0436\u0430\u043d\u0440\u044b"),r.a.createElement(Oe,{genres:this.props.genres,onGenresChange:e,onChangeChecked:this.onChangeChecked}))}}]),t}(n.PureComponent),Ne=Object(b.b)(function(e){return{genres:e.genresFilter.genres}},{getGenres:function(e){return function(){var t=Object(O.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(X("loading")),t.prev=1,t.next=4,C(e);case 4:n=t.sent,a(X("succeeded")),a({type:"GENRES/SET-GENRES",payload:n.genres}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a(X("failed")),a(Q(t.t0.response.data.status_message));case 13:case 14:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},changeChecked:function(e,t){return{type:"GENRES/CHANGE-CHECKED",payload:{genreId:e,checked:t}}},genresResetChecked:ke})(je),Pe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.page,a=e.onChangePage,n=e.filters,s=e.changeFilters,c=e.totalPages,o=e.resetAllFilters,i=e.onGenresChange,l=e.onGenresReset;return r.a.createElement("form",{className:"mb-3 "},r.a.createElement(fe,{changeFilters:s,filters:n}),r.a.createElement(be,{releaseYear:n.primary_release_year,changeFilters:s}),r.a.createElement(ge,{page:t,onChangePage:a,totalPages:c}),r.a.createElement(Ne,{onGenresChange:i,onGenresReset:l}),r.a.createElement("button",{type:"button",className:"btn btn-info mt-3 ",style:{width:"100%"},onClick:o},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"))}}]),t}(r.a.Component),Ae=a(90),Se=a(48),Ce={filters:{sort_by:"popularity.desc",primary_release_year:"2021",with_genres:[]},page:1,total_pages:0,movies:[]},Te=a(154),Me=a(87),Re=a.n(Me),xe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={favorite:!1,bookmark:!1,showModal:!1,showAlert:!1},a.toggleModal=function(){a.setState(function(e){return{showModal:!e.showModal}})},a.toggleAlert=function(){a.setState(function(e){return{showAlert:!e.showAlert}}),setTimeout(function(){a.setState({showAlert:!1})},2e3)},a.changeFavoriteHandler=function(){a.props.isAuth?a.setState(function(e){return{favorite:!e.favorite}},function(){a.props.changeFavorite("movie",a.state.favorite,a.props.item.id)}):a.toggleModal()},a.changeBookmarkHandler=function(){a.props.isAuth?a.setState(function(e){return{bookmark:!e.bookmark}},function(){a.props.changeWatchlist("movie",a.state.bookmark,a.props.item.id)}):a.toggleModal()},a.setRating=function(e,t){if(a.props.isAuth){var n="".concat(P,"/movie/").concat(a.props.item.id,"/rating?api_key=").concat(A,"&session_id=").concat(a.props.session_id);a.props.setRatingThunk(n,{value:e}),a.toggleAlert()}else a.toggleModal()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.item;return r.a.createElement(r.a.Fragment,null,this.state.showModal&&!this.props.isAuth?r.a.createElement(m.a,{isOpen:this.state.showModal,toggle:this.toggleModal},r.a.createElement(d.a,null,r.a.createElement(re,null))):"",r.a.createElement("div",{className:"card ",style:{width:"100%"}},r.a.createElement(pe.c,{to:"/movie/".concat(e.id)},r.a.createElement("img",{className:"card-img-top card-img--height",src:e.poster_path||e.backdrop_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path||e.backdrop_path):"https://static.wikia.nocookie.net/nopixel/images/b/b4/Not-found-image-15383864787lu.jpg/revision/latest?cb=20200910062142",alt:""})),r.a.createElement("div",{className:"card-body"},r.a.createElement("h6",{className:"card-title",style:{fontWeight:"bold"}},e.title),r.a.createElement("div",{className:"card-text"},r.a.createElement("b",null,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),": ",e.vote_average),r.a.createElement("div",{className:"card-text"},r.a.createElement(Re.a,{id:"rating",rating:e.vote_average,starRatedColor:"blue",changeRating:this.setRating,numberOfStars:10,name:"rating",starSpacing:"1px",starDimension:"15px"}),r.a.createElement(Te.a,{color:"success",isOpen:this.state.showAlert,toggle:this.toggleAlert,className:"rating__alert"},r.a.createElement("h4",{className:"alert-heading"},"Success!"),"\u0412\u0430\u0448\u0430 \u043e\u0446\u0435\u043d\u043a\u0430 \u0444\u0438\u043b\u044c\u043c\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430.")),r.a.createElement("div",{className:"card-text d-inline-block float-right pl-1"},this.state.bookmark?r.a.createElement("svg",{onClick:this.changeBookmarkHandler,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-bookmark-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"})):r.a.createElement("svg",{onClick:this.changeBookmarkHandler,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-bookmark",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"}))),r.a.createElement("div",{className:"card-text d-inline-block float-right"},this.state.favorite?r.a.createElement("svg",{onClick:this.changeFavoriteHandler,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-star-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})):r.a.createElement("svg",{onClick:this.changeFavoriteHandler,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-star",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"}))))))}}]),t}(r.a.Component);var Fe=function(e){return function(t){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(l.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).getMovies=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r="".concat(P,"/discover/movie?api_key=").concat(A,"&language=ru-RU&sort_by=").concat(t.props.filters.sort_by,"&page=").concat(e,"&primary_release_year=").concat(a,"&with_genres=").concat(n);t.props.getMovies(r)},t.changeFavorite=function(e,a,n){var r="".concat(P,"/account/").concat(t.props.account_id,"/favorite?api_key=").concat(A,"&session_id=").concat(t.props.session_id),s={media_type:"movie",media_id:n,favorite:a};t.props.addFavorite(r,s)},t.changeWatchlist=function(e,a,n){console.log(e,a,n);var r="".concat(P,"/account/").concat(t.props.account_id,"/watchlist?api_key=").concat(A,"&session_id=").concat(t.props.session_id),s={media_type:"movie",media_id:n,watchlist:a};t.props.addWatchlist(r,s)},t}return Object(p.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getMovies(this.props.page,this.props.filters.primary_release_year,this.props.filters.with_genres)}},{key:"componentDidUpdate",value:function(e,t,a){e.filters.sort_by!==this.props.filters.sort_by&&(this.getMovies(1,this.props.filters.primary_release_year,this.props.filters.with_genres),this.props.onChangePage(1)),e.page!==this.props.page&&this.getMovies(this.props.page,this.props.filters.primary_release_year,this.props.filters.with_genres),e.filters.primary_release_year!==this.props.filters.primary_release_year&&(this.getMovies(this.props.page,this.props.filters.primary_release_year,this.props.filters.with_genres),this.props.onChangePage(1)),e.filters.with_genres!==this.props.filters.with_genres&&(this.getMovies(this.props.page,this.props.filters.primary_release_year,this.props.filters.with_genres),this.props.onChangePage(1))}},{key:"render",value:function(){var t=this.props,a=t.movies,n=t.account_id,s=t.session_id,c=t.isAuth,o=t.setRatingThunk;return a.length?r.a.createElement(e,{movies:a,changeFavorite:this.changeFavorite,changeWatchlist:this.changeWatchlist,account_id:n,session_id:s,isAuth:c,setRatingThunk:o}):r.a.createElement("h1",null,"Movies aren't found")}}]),a}(n.Component)},Ie={movieDetails:null,favoriteMovies:null,statusCode:null,rating:null},De=function(e,t){return function(){var a=Object(O.a)(_.a.mark(function a(n){var r;return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(X("loading")),a.prev=1,a.next=4,D(e,t);case 4:r=a.sent,n(X("succeeded")),n({type:"MOVIE/SET-FAVORITE-STATUS-CODE",payload:r.status_code}),a.next=14;break;case 9:a.prev=9,a.t0=a.catch(1),n(X("failed")),n(Q(a.t0.response.data.status_message)),setTimeout(function(){n(Q(null))},3e3);case 14:case"end":return a.stop()}},a,null,[[1,9]])}));return function(e){return a.apply(this,arguments)}}()},Ge=function(e,t){return function(){var a=Object(O.a)(_.a.mark(function a(n){return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(X("loading")),a.prev=1,a.next=4,G(e,t);case 4:n(X("succeeded")),a.next=12;break;case 7:a.prev=7,a.t0=a.catch(1),n(X("failed")),n(Q(a.t0.response.data.status_message)),setTimeout(function(){n(Q(null))},3e3);case 12:case"end":return a.stop()}},a,null,[[1,7]])}));return function(e){return a.apply(this,arguments)}}()},Le=function(e,t){return function(){var a=Object(O.a)(_.a.mark(function a(n){return _.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n(X("loading")),a.prev=1,a.next=4,V(e,t);case 4:n(X("succeeded")),n({type:"MOVIE/SET-RATING",payload:t.value}),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(1),n(X("failed")),n(Q(a.t0.response.data.status_message)),setTimeout(function(){n(Q(null))},3e3);case 13:case"end":return a.stop()}},a,null,[[1,8]])}));return function(e){return a.apply(this,arguments)}}()},He=Object(b.b)(function(e){return{account_id:e.app.user&&e.app.user.id,isAuth:e.app.isAuth}},{addFavorite:De,addWatchlist:Ge,setRatingThunk:Le})(Fe(function(e){var t=e.movies,a=e.changeFavorite,n=e.setRatingThunk,s=e.changeWatchlist,c=e.account_id,o=e.isAuth,i=e.session_id;return r.a.createElement("div",{className:"row"},t.map(function(e){return r.a.createElement("div",{key:e.id,className:"col-sm-6 col-lg-4 mb-4"},r.a.createElement(xe,{item:e,changeFavorite:a,changeWatchlist:s,account_id:c,session_id:i,isAuth:o,setRatingThunk:n}))}))})),Ve=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).changeFilters=function(e,t){a.props.changeFilters(e,t)},a.onChangePage=function(e){a.props.changePage(e)},a.resetAllFilters=function(){a.props.resetAllFilters(),a.props.genresResetChecked()},a.onGenresChange=function(e){a.props.genresChange(e)},a.onGenresReset=function(){a.props.genresReset()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.moviesReducer,t=e.filters,a=e.page,n=e.total_pages,s=e.movies;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:" col-sm-4"},r.a.createElement("div",{className:"card",style:{width:"100%"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,"\u0424\u0438\u043b\u044c\u0442\u0440\u044b:"),r.a.createElement(Pe,{filters:t,changeFilters:this.changeFilters,page:a,onChangePage:this.onChangePage,totalPages:n,resetAllFilters:this.resetAllFilters,onGenresChange:this.onGenresChange,onGenresReset:this.onGenresReset})))),r.a.createElement("div",{className:"container col-sm-8"},r.a.createElement(He,{filters:t,page:a,session_id:this.props.session_id,onChangePage:this.onChangePage,movies:s,getMovies:this.props.getMovies})))))}}]),t}(r.a.Component),We=Object(b.b)(function(e){return{moviesReducer:e.movies,session_id:e.app.session_id}},{changeFilters:function(e,t){return{type:"APP/CHANGE-FILTERS",payload:{value:e,name:t}}},changePage:function(e){return{type:"APP/CHANGE-PAGE",payload:e}},resetAllFilters:function(){return{type:"APP/RESET-ALL-FILTERS"}},genresReset:function(){return{type:"APP/RESET-GENRES"}},genresChange:function(e){return{type:"APP/CHANGE-GENRES",payload:e}},genresResetChecked:ke,getMovies:function(e){return function(){var t=Object(O.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(X("loading")),t.prev=1,t.next=4,S(e);case 4:n=t.sent,a(X("succeeded")),a({type:"APP/SET-TOTAl-PAGES",payload:n.total_pages}),a({type:"MOVIES/SET-MOVIES",payload:n.results}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),a(X("failed")),a(Q(t.t0.response.data.status_message));case 14:case 15:case"end":return t.stop()}},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()}})(Ve),Be=a(17),Ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={favorite:!1,bookmark:!1,showModal:!1},a.toggleModal=function(){a.setState(function(e){return{showModal:!e.showModal}})},a.changeFavoriteHandler=function(){a.props.isAuth?a.setState(function(e){return{favorite:!e.favorite}},function(){a.props.changeFavorite("movie",a.state.favorite,a.props.movieDetails.id)}):a.toggleModal()},a.changeBookmarkHandler=function(){a.props.isAuth?a.setState(function(e){return{bookmark:!e.bookmark}},function(){a.props.changeWatchlist("movie",a.state.bookmark,a.props.movieDetails.id)}):a.toggleModal()},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.movieDetails,t="https://image.tmdb.org/t/p/w500/".concat(e&&e.backdrop_path);return r.a.createElement(r.a.Fragment,null,this.state.showModal&&!this.props.isAuth?r.a.createElement(m.a,{isOpen:this.state.showModal,toggle:this.toggleModal},r.a.createElement(d.a,null,r.a.createElement(re,null))):"",r.a.createElement("div",{className:"moviePage",style:{backgroundImage:"url(".concat(t,")")}},r.a.createElement("div",{className:"pt-3 pb-3 pl-4 pr-4 moviePage__container"},r.a.createElement("section",{className:"moviePage__section "},r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-3 moviePage__poster-block"},r.a.createElement("div",{className:"moviePage__poster-block-img"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e&&e.poster_path),alt:""}))),r.a.createElement("div",{className:"col-md "},r.a.createElement("section",{className:"moviePage__section-info"},r.a.createElement("div",{className:"moviePage__title"},r.a.createElement("h2",null,e&&e.title),r.a.createElement("div",{className:"moviePage__facts"},r.a.createElement("span",{className:"moviePage__release"},e&&e.release_date.replaceAll("-","/")),r.a.createElement("span",{className:"moviePage__genres"},e&&e.genres.map(function(e){return r.a.createElement("b",{key:e.id},e.name," ")})),r.a.createElement("span",{className:"moviePage__runtime"},e&&e.runtime," m")),r.a.createElement("div",{className:"favorite"},r.a.createElement("b",null,"Favorite "),this.state.favorite?r.a.createElement("svg",{onClick:this.changeFavoriteHandler,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-star-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"})):r.a.createElement("svg",{onClick:this.changeFavoriteHandler,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-star",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"}))),r.a.createElement("div",{className:"watchlist"},r.a.createElement("b",null,"Watchlist "),this.state.bookmark?r.a.createElement("svg",{onClick:this.changeBookmarkHandler,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-bookmark-fill",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"})):r.a.createElement("svg",{onClick:this.changeBookmarkHandler,style:{cursor:"pointer"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-bookmark",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"}))),r.a.createElement("div",{className:"moviePage__info"},r.a.createElement("h3",{className:"moviePage__tagline"},e&&e.tagline),r.a.createElement("h3",{className:"moviePage__review"},"\u041e\u0431\u0437\u043e\u0440"),r.a.createElement("div",{className:"moviePage__overview"},r.a.createElement("p",null,e&&e.overview)),r.a.createElement("div",{className:"moviePage__vote"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ",e&&e.vote_average),r.a.createElement("div",{className:"moviePage__vote"}))))))))))}}]),t}(n.PureComponent),ze=a(156),qe=a(157),Ke=a(158),Ye=a(159),Je=a(160),Xe=a(161),$e=a(162),Qe=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e="".concat(P,"/movie/").concat(this.props.movie_id,"/credits?api_key=").concat(A,"&language=ru-RU");this.props.getActorsDetails(e)}},{key:"render",value:function(){var e=this.props.actorsDetails;return r.a.createElement("div",{className:"mt-3 actingPage container"},r.a.createElement("h3",null,"\u0412 \u0433\u043b\u0430\u0432\u043d\u044b\u0445 \u0440\u043e\u043b\u044f\u0445"),r.a.createElement("div",{className:"row"},e&&e.cast.map(function(e){return r.a.createElement("div",{key:e.cast_id,className:"col"},r.a.createElement("div",{className:"actingPage__card"},r.a.createElement("div",{className:"actingPage__img"},r.a.createElement(pe.c,{to:"/person/".concat(e.id)},r.a.createElement("img",{src:e.profile_path?"https://image.tmdb.org/t/p/w500/".concat(e.profile_path):"https://static.wikia.nocookie.net/nopixel/images/b/b4/Not-found-image-15383864787lu.jpg/revision/latest?cb=20200910062142",alt:"".concat(e.name),title:"".concat(e.name)}))),r.a.createElement("p",null,e.name),r.a.createElement("p",null,e.character)))})))}}]),t}(n.PureComponent),Ze=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.movies,a=void 0===t?[]:t,n=e.changeWatchlist,s=e.changeFavorite,c=e.session_id,o=e.account_id,i=e.isAuth,l=e.setRatingThunk;return r.a.createElement("div",{className:"row mt-3"},a.map(function(e){return r.a.createElement("div",{key:e.id,className:"col-6 col-md-4 col-lg-3 mb-4"},r.a.createElement(xe,{item:e,changeFavorite:s,changeWatchlist:n,account_id:o,session_id:c,isAuth:i,setRatingThunk:l}))}))}}]),t}(n.Component),et=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e="".concat(P,"/movie/").concat(this.props.movie_id,"/similar?api_key=").concat(A,"&language=ru-RU&page=1");this.props.getSimilarMovies(e)}},{key:"componentDidUpdate",value:function(e,t,a){if(e.similarMovies.page!==this.props.similarMovies.page){var n="".concat(P,"/movie/").concat(this.props.movie_id,"/similar?api_key=").concat(A,"&language=ru-RU&page=").concat(this.props.similarMovies.page);this.props.getSimilarMovies(n)}}},{key:"render",value:function(){var e=this.props,t=e.similarMovies,a=e.changeSimilarMoviePage,n=e.session_id,s=e.changeFavorite,c=e.changeWatchlist,o=e.account_id,i=e.isAuth,l=e.setRatingThunk;return r.a.createElement("div",{className:"mt-3  container"},r.a.createElement(ge,{page:t.page,onChangePage:a,totalPages:t&&t.total_pages}),r.a.createElement(Ze,{page:t.page,movies:t.results,session_id:n,changeFavorite:s,changeWatchlist:c,account_id:o,isAuth:i,setRatingThunk:l}))}}]),t}(n.PureComponent),tt={actorsDetails:null,similarMovies:{}},at=a(155),nt=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.movieDetails;return r.a.createElement("div",{className:"mt-3"},r.a.createElement(at.a,null,r.a.createElement("thead",null),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u0421\u0442\u0430\u0442\u0443\u0441"),r.a.createElement("td",null,e&&e.status)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u0414\u0430\u0442\u0430 \u0432\u044b\u0445\u043e\u0434\u0430"),r.a.createElement("td",null,e&&e.release_date)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"),r.a.createElement("td",null,e&&e.runtime,"m")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u042f\u0437\u044b\u043a \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u0430"),r.a.createElement("td",null,e&&e.original_language)),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u0421\u0442\u0440\u0430\u043d\u0430"),r.a.createElement("td",null,e&&e.production_countries.map(function(e){return r.a.createElement("span",{key:e.name},e.name," ")}))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u0411\u044e\u0434\u0436\u0435\u0442"),r.a.createElement("td",null,e&&e.budget," $")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u0421\u0431\u043e\u0440\u044b"),r.a.createElement("td",null,e&&e.revenue," $")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),r.a.createElement("td",null,e&&e.production_companies.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("span",{className:"companyInfo"},e.name))}))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},"\u0416\u0430\u043d\u0440\u044b"),r.a.createElement("td",null,e&&e.genres.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("span",{className:"companyInfo"},e.name))}))))))}}]),t}(n.Component),rt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeTab:a.props.movieType},a.toggle=function(e){a.state.activeTab!==e&&a.setState({activeTab:e})},a.changeFavorite=function(e,t,n){var r="".concat(P,"/account/").concat(a.props.account_id,"/favorite?api_key=").concat(A,"&session_id=").concat(a.props.session_id),s={media_type:"movie",media_id:n,favorite:t};a.props.addFavorite(r,s)},a.changeWatchlist=function(e,t,n){var r="".concat(P,"/account/").concat(a.props.account_id,"/watchlist?api_key=").concat(A,"&session_id=").concat(a.props.session_id),s={media_type:"movie",media_id:n,watchlist:t};a.props.addWatchlist(r,s)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.tabMoviePage,n=a.actorsDetails,s=a.similarMovies,c=t.getActorsDetails,o=t.setRatingThunk,i=t.getSimilarMovies,l=t.changeSimilarMoviePage,u=t.session_id,p=t.account_id,m=t.isAuth;return r.a.createElement("div",null,r.a.createElement(ze.a,{tabs:!0},r.a.createElement(qe.a,null,r.a.createElement(Ke.a,{to:"/movie/".concat(this.props.movie_id,"/detail"),tag:pe.b,className:"1"===this.state.activeTab?"active":"",onClick:function(){e.toggle("1")}},"\u0414\u0435\u0442\u0430\u043b\u0438")),r.a.createElement(qe.a,null,r.a.createElement(Ke.a,{to:"/movie/".concat(this.props.movie_id,"/videos"),tag:pe.b,className:"2"===this.state.activeTab?"active":"",onClick:function(){e.toggle("2")}},"\u041f\u043e\u0445\u043e\u0436\u0438\u0435 \u0444\u0438\u043b\u044c\u043c\u044b")),r.a.createElement(qe.a,null,r.a.createElement(Ke.a,{to:"/movie/".concat(this.props.movie_id,"/credits"),tag:pe.b,className:"3"===this.state.activeTab?"active":"",onClick:function(){e.toggle("3")}},"\u0410\u043a\u0442\u0435\u0440\u044b "))),r.a.createElement(Ye.a,{activeTab:this.state.activeTab},"1"===this.state.activeTab&&r.a.createElement(Je.a,{tabId:"1"},r.a.createElement(Xe.a,null,r.a.createElement($e.a,{sm:"12"},r.a.createElement(nt,{movieDetails:this.props.movieDetails})))),"2"===this.state.activeTab&&r.a.createElement(Je.a,{tabId:"2"},r.a.createElement(Xe.a,null,r.a.createElement($e.a,{sm:"12"},r.a.createElement(et,{movie_id:this.props.movie_id,similarMovies:s,getSimilarMovies:i,changeSimilarMoviePage:l,session_id:u,changeWatchlist:this.changeWatchlist,changeFavorite:this.changeFavorite,account_id:p,isAuth:m,setRatingThunk:o})))),"3"===this.state.activeTab&&r.a.createElement(Je.a,{tabId:"3"},r.a.createElement(Xe.a,null,r.a.createElement($e.a,{sm:"12"},r.a.createElement(Qe,{movie_id:this.props.movie_id,actorsDetails:n,getActorsDetails:c}))))))}}]),t}(n.Component),st=Object(b.b)(function(e){return{tabMoviePage:e.tabMoviePage,session_id:e.app.session_id,account_id:e.app.user&&e.app.user.id,movieDetails:e.moviePage.movieDetails,isAuth:e.app.isAuth}},{getActorsDetails:function(e){return function(){var t=Object(O.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(X("loading")),t.prev=1,t.next=4,H(e);case 4:n=t.sent,a(X("succeeded")),a({type:"TAB-MOVIE/SET-ACTORS-DETAILS",payload:n}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a(X("failed")),console.log(t.t0.message);case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},getSimilarMovies:function(e){return function(){var t=Object(O.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(X("loading")),t.prev=1,t.next=4,W(e);case 4:n=t.sent,a(X("succeeded")),a({type:"TAB-MOVIE/SET-SIMILAR-MOVIES",payload:n}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a(X("failed")),console.log(t.t0.message);case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},changeSimilarMoviePage:function(e){return{type:"TAB-MOVIE/CHANGE-SIMILAR-PAGE",payload:e}},addWatchlist:Ge,addFavorite:De,setRatingThunk:Le})(rt),ct=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={movie_id:a.props.match.params.id},a.changeFavorite=function(e,t,n){var r="".concat(P,"/account/").concat(a.props.account_id,"/favorite?api_key=").concat(A,"&session_id=").concat(a.props.session_id),s={media_type:"movie",media_id:n,favorite:t};a.props.addFavorite(r,s)},a.changeWatchlist=function(e,t,n){console.log(e,t,n);var r="".concat(P,"/account/").concat(a.props.account_id,"/watchlist?api_key=").concat(A,"&session_id=").concat(a.props.session_id),s={media_type:"movie",media_id:n,watchlist:t};a.props.addWatchlist(r,s)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t="".concat(P,"/movie/").concat(e,"?api_key=").concat(A,"&language=ru-RU");this.props.getMovieDetails(t)}},{key:"componentDidUpdate",value:function(e,t,a){var n=this.props.match.params.id;if(n!==this.state.movie_id){var r="".concat(P,"/movie/").concat(n,"?api_key=").concat(A,"&language=ru-RU");this.props.getMovieDetails(r),this.setState({movie_id:this.props.match.params.id})}}},{key:"render",value:function(){var e=this.props,t=e.movieDetails,a=e.isAuth,n=this.props.match.params.id,s=this.props.match.params.movietype;return void 0===s?s="1":"detail"===s?s="1":"videos"===s?s="2":"credits"===s&&(s="3"),r.a.createElement("div",{className:"container"},r.a.createElement(Ue,{movieDetails:t,isAuth:a,changeFavorite:this.changeFavorite,changeWatchlist:this.changeWatchlist}),r.a.createElement(st,{movie_id:n,movieType:s}))}}]),t}(n.PureComponent),ot=Object(b.b)(function(e){return{movieDetails:e.moviePage.movieDetails,isAuth:e.app.isAuth,account_id:e.app.user&&e.app.user.id,session_id:e.app.session_id}},{getMovieDetails:function(e){return function(){var t=Object(O.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(X("loading")),t.prev=1,t.next=4,I(e);case 4:n=t.sent,a(X("succeeded")),a({type:"MOVIE/SET-MOVIE",payload:n}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a(X("failed")),console.log(t.t0.message);case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},addFavorite:De,addWatchlist:Ge})(Object(Be.g)(ct)),it=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"text-center mt-5"}," 404 - Page not found"))}}]),t}(n.Component),lt=a(163),ut=function(){return r.a.createElement("div",{className:"mt-3 d-flex justify-content-center align-items-center"},r.a.createElement(lt.a,{type:"grow",color:"primary"}),r.a.createElement(lt.a,{type:"grow",color:"secondary"}),r.a.createElement(lt.a,{type:"grow",color:"success"}),r.a.createElement(lt.a,{type:"grow",color:"danger"}),r.a.createElement(lt.a,{type:"grow",color:"warning"}),r.a.createElement(lt.a,{type:"grow",color:"info"}),r.a.createElement(lt.a,{type:"grow",color:"dark"}))},pt=new q.a,mt=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).changeFavorite=function(e,t,n){var r="".concat(P,"/account/").concat(a.props.account_id,"/favorite?api_key=").concat(A,"&session_id=").concat(a.props.session_id),s={media_type:"movie",media_id:n,favorite:t};a.props.addFavorite(r,s)},a.changeWatchlist=function(e,t,n){console.log(e,t,n);var r="".concat(P,"/account/").concat(a.props.account_id,"/watchlist?api_key=").concat(A,"&session_id=").concat(a.props.session_id),s={media_type:"movie",media_id:n,watchlist:t};a.props.addWatchlist(r,s)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=pt.get("session_id");if(e){var t="".concat(P,"/account/").concat(this.props.account_id,"/favorite/movies?api_key=").concat(A,"&session_id=").concat(e,"&language=ru-RU");this.props.getFavoriteList(t)}}},{key:"componentDidUpdate",value:function(e,t,a){if(13===this.props.statusCode&&this.props.statusCode!==e.statusCode){var n=pt.get("session_id");if(n){var r="".concat(P,"/account/").concat(this.props.account_id,"/favorite/movies?api_key=").concat(A,"&session_id=").concat(n,"&language=ru-RU");this.props.getFavoriteList(r)}}}},{key:"render",value:function(){var e=this,t=this.props,a=t.favoriteMovies,n=t.isAuth,s=t.session_id,c=t.account_id,o=t.setRatingThunk;return n?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-3"},a&&a.results.length?a.results.map(function(t){return r.a.createElement("div",{key:t.id,className:"col-6   col-md-4 col-lg-3 mb-4"},r.a.createElement(xe,{item:t,changeFavorite:e.changeFavorite,changeWatchlist:e.changeWatchlist,account_id:c,session_id:s,isAuth:n,setRatingThunk:o}))}):r.a.createElement("h1",null,"Favorite movies not found."))):r.a.createElement("div",{className:"container mt-3"},r.a.createElement("h1",null,"You are not authorisation, please logIn"))}}]),t}(n.PureComponent),dt={personDetails:null,social:null,personFilms:null},ht=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.film;return r.a.createElement(pe.c,{to:"/movie/".concat(e.id)},r.a.createElement("img",{className:"card-img-top card-img--height person__films-img",src:e.poster_path||e.backdrop_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path||e.backdrop_path):"https://static.wikia.nocookie.net/nopixel/images/b/b4/Not-found-image-15383864787lu.jpg/revision/latest?cb=20200910062142",alt:""}))}}]),t}(n.PureComponent),gt=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.personId,t="".concat(P,"/person/").concat(e,"?api_key=").concat(A,"&language=ru-RU");this.props.getPersonDetail(t);var a="".concat(P,"/person/").concat(e,"/external_ids?api_key=").concat(A);this.props.getPersonSocial(a);var n="".concat(P,"/person/").concat(e,"/movie_credits?api_key=").concat(A);this.props.getPersonFilms(n)}},{key:"render",value:function(){var e=this.props.personState,t=e.personDetails,a=e.social,n=e.personFilms;return r.a.createElement("div",{className:"container mt-4 person__page"},r.a.createElement("div",{className:"row person"},r.a.createElement("div",{style:{width:"300px"},className:""},r.a.createElement("div",{className:"person__poster"},t&&t.profile_path?r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(t&&t.profile_path),alt:""}):"https://static.wikia.nocookie.net/nopixel/images/b/b4/Not-found-image-15383864787lu.jpg/revision/latest?cb=20200910062142"),r.a.createElement("div",{className:"person__details mt-4"},r.a.createElement("div",{className:"person__social"},a&&a.twitter_id&&r.a.createElement("div",{className:"social social-twitter"},r.a.createElement("a",{href:"https://twitter.com/".concat(a&&a.twitter_id),target:"_blank",title:"Twitter"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-twitter",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"})))),a&&a.instagram_id&&r.a.createElement("div",{className:" social social-instagram"},r.a.createElement("a",{href:"https://instagram.com/".concat(a&&a.instagram_id),target:"_blank",title:"Instagram"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-instagram",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z"})))),a&&a.facebook_id&&r.a.createElement("div",{className:" social social-facebook"},r.a.createElement("a",{href:"https://facebook.com/".concat(a&&a.facebook_id),target:"_blank",title:"Instagram"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-facebook",viewBox:"0 0 16 16"},r.a.createElement("path",{d:"M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"}))))),r.a.createElement("h3",{className:"person__details-title"},"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"),r.a.createElement("section",{className:"person__info"},r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("bdi",null,"\u0418\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0441\u0442\u044c \u0437\u0430")),"\u0410\u043a\u0442\u0451\u0440\u0441\u043a\u043e\u0435 \u0438\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e"),r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("bdi",null,"\u041f\u043e\u043b")),t&&1===t.gender?"\u0416\u0435\u043d\u0441\u043a\u0438\u0439":"\u041c\u0443\u0436\u0441\u043a\u043e\u0439"),r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("bdi",null,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f")),t&&t.birthday),r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("bdi",null,"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f")),t&&t.place_of_birth),r.a.createElement("p",null,r.a.createElement("strong",null,r.a.createElement("bdi",null,"\u0422\u0430\u043a\u0436\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d \u043f\u043e\u0434 \u0438\u043c\u0435\u043d\u0435\u043c")),t&&t.also_known_as.map(function(e){return r.a.createElement("span",{style:{display:"block"},key:e},e)}))))),r.a.createElement("div",{className:"col "},r.a.createElement("div",{className:"person__content"},r.a.createElement("h2",{className:"person__content-title"},t&&t.name),r.a.createElement("div",{className:"person__biography"},r.a.createElement("h3",null,"\u0411\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u044f"),t&&t.biography?r.a.createElement("p",null," ",t&&t.biography):r.a.createElement("p",null,"\u0423 \u043d\u0430\u0441 \u043d\u0435\u0442 \u0431\u0438\u043e\u0433\u0440\u0430\u0444\u0438\u0438 \u0434\u043b\u044f ",t&&t.name)),r.a.createElement("div",{className:"person__films mt-3"},r.a.createElement("h3",null,"\u0421\u043d\u0438\u043c\u0430\u043b\u0441\u044f \u0432 \u0444\u0438\u043b\u044c\u043c\u0430\u0445"),r.a.createElement("div",{className:"row"},n&&n.cast.map(function(e,t){return r.a.createElement("div",{key:e.id+t,className:"col-sm-6 col-lg-3 .col-xl- mb-2"},r.a.createElement(ht,{film:e}))})))))))}}]),t}(n.PureComponent),vt=Object(b.b)(function(e){return{personState:e.personPage}},{getPersonDetail:function(e){return function(){var t=Object(O.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(X("loading")),t.prev=1,t.next=4,B(e);case 4:n=t.sent,a(X("succeeded")),a({type:"PERSON/SET-PERSON-DETAIL",payload:n}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),a(X("failed")),a(Q(t.t0.response.data.status_message)),setTimeout(function(){a(Q(null))},3e3);case 14:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},getPersonSocial:function(e){return function(){var t=Object(O.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(X("loading")),t.prev=1,t.next=4,U(e);case 4:n=t.sent,a(X("succeeded")),a({type:"PERSON/SET-SOCIAL",payload:n}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),a(X("failed")),a(Q(t.t0.response.data.status_message)),setTimeout(function(){a(Q(null))},3e3);case 14:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},getPersonFilms:function(e){return function(){var t=Object(O.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(X("loading")),t.prev=1,t.next=4,z(e);case 4:n=t.sent,a(X("succeeded")),a({type:"PERSON/SET-PERSON-FILMS",payload:n}),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),a(X("failed")),a(Q(t.t0.response.data.status_message)),setTimeout(function(){a(Q(null))},3e3);case 14:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()}})(Object(Be.g)(gt)),ft=new q.a,Et=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!0},a.onDeleteSession=function(){var e="".concat(P,"/authentication/session?api_key=").concat(A);a.props.logoutUser(e)},a.onDismiss=function(){a.setState({visible:!1}),a.props.setError(null)},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=ft.get("session_id");if(e){var t="".concat(P,"/account?api_key=").concat(A,"&session_id=").concat(e);this.props.getAccountDetails(t,e)}}},{key:"render",value:function(){var e=this.props,t=e.appReducer,a=t.error,n=t.status,s=t.session_id,c=t.user,o=t.isAuth,i=e.getFavoriteList,l=e.favoriteMovies,u=e.addWatchlist,p=e.setRatingThunk,m=e.addFavorite,d=e.statusCode;return r.a.createElement(r.a.Fragment,null,r.a.createElement(de,{user:c,onDeleteSession:this.onDeleteSession}),a?r.a.createElement(Te.a,{color:"danger",isOpen:this.state.visible,toggle:this.onDismiss,className:"mt-3"},a):"","loading"===n?r.a.createElement(ut,null):"",r.a.createElement(Be.d,null,r.a.createElement(Be.b,{exact:!0,path:"/",render:function(){return r.a.createElement(We,null)}}),r.a.createElement(Be.b,{exact:!0,path:"/movie/:id",render:function(){return r.a.createElement(ot,null)}}),r.a.createElement(Be.b,{exact:!0,path:"/movie/:id/:movietype?",render:function(){return r.a.createElement(ot,null)}}),r.a.createElement(Be.b,{exact:!0,path:"/person/:personId",render:function(){return r.a.createElement(vt,null)}}),r.a.createElement(Be.b,{exact:!0,path:"/favorite",render:function(){return r.a.createElement(mt,{session_id:s,account_id:c&&c.id,isAuth:o,getFavoriteList:i,favoriteMovies:l,addFavorite:m,addWatchlist:u,statusCode:d,setRatingThunk:p})}}),r.a.createElement(Be.b,{exact:!0,path:"/404",render:function(){return r.a.createElement(it,null)}}),r.a.createElement(Be.b,{exact:!0,path:"*",render:function(){return r.a.createElement(Be.a,{to:"/404"})}})))}}]),t}(r.a.PureComponent),bt=Object(b.b)(function(e){return{appReducer:e.app,favoriteMovies:e.moviePage.favoriteMovies,statusCode:e.moviePage.statusCode}},{setUser:J,setSessionId:$,logoutUser:function(e){return function(){var t=Object(O.a)(_.a.mark(function t(a,n){var r;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().app.session_id,a(X("loading")),t.prev=2,t.next=5,T(e,r);case 5:K.remove("session_id"),a(X("succeeded")),a({type:"APP/DELETE-SESSION-ID"}),a(J(null)),a(Z(!1)),a(ee(!1)),t.next=18;break;case 13:t.prev=13,t.t0=t.catch(2),a(X("failed")),a(Q(t.t0.response.data.status_message)),setTimeout(function(){a(Q(null))},3e3);case 18:case 19:case"end":return t.stop()}},t,null,[[2,13]])}));return function(e,a){return t.apply(this,arguments)}}()},getAccountDetails:te,changeIsAuth:Z,userAuthFlow:ae,setError:Q,getFavoriteList:function(e){return function(){var t=Object(O.a)(_.a.mark(function t(a){var n;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(X("loading")),t.prev=1,t.next=4,L(e);case 4:n=t.sent,a(X("succeeded")),a({type:"MOVIE/SET-FAVORITE-MOVIES",payload:n}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),a(X("failed")),console.log(t.t0.message);case 13:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},addWatchlist:Ge,addFavorite:De,setRatingThunk:Le})(Et),yt=(a(144),a(145),a(36)),_t=a(88),Ot=Object(yt.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-USER":return Object(w.a)({},e,{user:t.payload});case"APP/SET-SESSION-ID":return Object(w.a)({},e,{session_id:t.payload});case"APP/DELETE-SESSION-ID":return Object(w.a)({},e,{session_id:null});case"APP/CHANGE-ISAUTH":return Object(w.a)({},e,{isAuth:t.payload});case"APP/CHANGE-DISABLED":return Object(w.a)({},e,{disabled:t.payload});case"APP/SET-ERROR":return Object(w.a)({},e,{error:t.payload});case"APP/CHANGE-STATUS":return Object(w.a)({},e,{status:t.payload});default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVIES/SET-MOVIES":return Object(w.a)({},e,{movies:t.payload});case"APP/CHANGE-FILTERS":return Object(w.a)({},e,{filters:Object(w.a)({},e.filters,Object(Se.a)({},t.payload.name,t.payload.value))});case"APP/CHANGE-PAGE":return Object(w.a)({},e,{page:t.payload});case"APP/SET-TOTAl-PAGES":return Object(w.a)({},e,{total_pages:t.payload});case"APP/RESET-ALL-FILTERS":return Object(w.a)({},e,{filters:Object(w.a)({},e.filters,{sort_by:"popularity.desc",primary_release_year:"2021",with_genres:[]}),page:1});case"APP/RESET-GENRES":return Object(w.a)({},e,{filters:Object(w.a)({},e.filters,{with_genres:[]})});case"APP/CHANGE-GENRES":var a=Object(Ae.a)(e.filters.with_genres),n=a.findIndex(function(e){return e===t.payload});return-1===n?a.push(t.payload):a.splice(n,1),Object(w.a)({},e,{filters:Object(w.a)({},e.filters,{with_genres:a})});default:return e}},genresFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GENRES/SET-GENRES":return Object(w.a)({},e,{genres:t.payload.map(function(e){return Object(w.a)({},e,{checked:!1})})});case"GENRES/CHANGE-CHECKED":return Object(w.a)({},e,{genres:e.genres.map(function(e){return e.id===t.payload.genreId?Object(w.a)({},e,{checked:t.payload.checked}):e})});case"GENRES/RESET-CHECKED":return Object(w.a)({},e,{genres:e.genres.map(function(e){return Object(w.a)({},e,{checked:!1})})});default:return e}},moviePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MOVIE/SET-MOVIE":return Object(w.a)({},e,{movieDetails:Object(w.a)({},t.payload)});case"MOVIE/SET-FAVORITE-MOVIES":return Object(w.a)({},e,{favoriteMovies:t.payload});case"MOVIE/SET-FAVORITE-STATUS-CODE":return Object(w.a)({},e,{statusCode:t.payload});case"MOVIE/SET-RATING":return Object(w.a)({},e,{rating:t.payload});default:return e}},tabMoviePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TAB-MOVIE/SET-ACTORS-DETAILS":return Object(w.a)({},e,{actorsDetails:t.payload});case"TAB-MOVIE/SET-SIMILAR-MOVIES":return Object(w.a)({},e,{similarMovies:t.payload});case"TAB-MOVIE/CHANGE-SIMILAR-PAGE":return Object(w.a)({},e,{similarMovies:Object(w.a)({},e.similarMovies,{page:t.payload})});default:return e}},personPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PERSON/SET-PERSON-DETAIL":return Object(w.a)({},e,{personDetails:t.payload});case"PERSON/SET-SOCIAL":return Object(w.a)({},e,{social:t.payload});case"PERSON/SET-PERSON-FILMS":return Object(w.a)({},e,{personFilms:t.payload});default:return e}}}),wt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||yt.d,kt=Object(yt.e)(Ot,wt(Object(yt.a)(_t.a)));c.a.render(r.a.createElement(pe.a,null,r.a.createElement(b.a,{store:kt},r.a.createElement(bt,null))),document.getElementById("root"))},91:function(e,t,a){e.exports=a(146)}},[[91,1,2]]]);
//# sourceMappingURL=main.08bccee6.chunk.js.map